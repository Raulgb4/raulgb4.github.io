---
import Layout from "../../layouts/Layout.astro";
import Reveal from "../../components/Reveal.astro";
import CountUp from "../../components/CountUp.astro";
import { LANGS, type Lang, t } from "../../i18n";

export async function getStaticPaths() {
  return LANGS.map((lang) => ({ params: { lang } }));
}

const lang = Astro.params.lang as Lang;

type TechIcon = {
  name: string;
  src: string;
  /** Logos tipo wordmark suelen ser más anchos */
  wordmark?: boolean;
  /** Para assets locales (png, etc.) */
  local?: boolean;
};

const dataIcons: TechIcon[] = [
  {
    name: "Python",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/python/python-original.svg",
  },
  {
    name: "SQL",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/azuresqldatabase/azuresqldatabase-original.svg",
  },
  {
    name: "Apache Spark",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/apachespark/apachespark-original.svg",
    wordmark: true,
  },
  {
    name: "Power BI",
    src: "/assets/images/LogoPowerBI.png",
    local: true,
  },
  {
    name: "Tableau",
    src: "/assets/images/LogoTableau.png",
    local: true,
  },
  {
    name: "PostgreSQL",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/postgresql/postgresql-original.svg",
    local: true,
  },
  {
    name: "Chart.js",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/chartjs/chartjs-original.svg",
    local: true,
  },
  {
    name: "Jupyter",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/jupyter/jupyter-original.svg",
    local: true,
  },
  {
    name: "Pandas",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/pandas/pandas-original.svg",
    local: true,
  },
  {
    name: "R",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/r/r-original.svg",
    local: true,
  },
  {
    name: "Databricks",
    src: "/assets/images/LogoDatabricks.png",
    local: true,
  },
  {
    name: "Apache Kafka",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/apachekafka/apachekafka-original.svg",
    local: true,
  },
  {
    name: "Snowflake",
    src: "/assets/images/LogoSnowflake.png",
    local: true,
  },
  {
    name: "MongoDB",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/mongodb/mongodb-original.svg",
    local: true,
  },
  {
    name: "NumPy",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/numpy/numpy-original.svg",
    local: true,
  },
];

const devIcons: TechIcon[] = [
  {
    name: "TypeScript",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/typescript/typescript-original.svg",
  },
  {
    name: "Astro",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/astro/astro-original.svg",
    wordmark: true,
  },
  {
    name: "Tailwind CSS",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/tailwindcss/tailwindcss-original.svg",
    wordmark: true,
  },
  {
    name: "Git",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/git/git-original.svg",
  },
  {
    name: "Docker",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/docker/docker-plain.svg",
    wordmark: true,
  },
  {
    name: "Azure",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/azure/azure-original.svg",
    wordmark: true,
  },
  {
    name: "Django",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/django/django-plain.svg",
    wordmark: true,
  },
  {
    name: "Angular",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/angular/angular-original.svg",
    wordmark: true,
  },
  {
    name: "Jira",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/jira/jira-original.svg",
    wordmark: true,
  },
  {
    name: "React",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/react/react-original.svg",
    wordmark: true,
  },
  {
    name: "Webpack",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/webpack/webpack-original.svg",
    wordmark: true,
  },
  {
    name: "Jetbrains IDEs",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/jetbrains/jetbrains-original.svg",
    wordmark: true,
  },
  {
    name: "Linux",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/linux/linux-original.svg",
    wordmark: true,
  },
  {
    name: "Postman",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/postman/postman-original.svg",
    wordmark: true,
  },
  {
    name: "DBeaver",
    src: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/dbeaver/dbeaver-original.svg",
    wordmark: true,
  },
];

const techStack: TechIcon[] = [...dataIcons, ...devIcons];
---

<Layout lang={lang}>
  <!-- HERO -->
  <section class="max-w-7xl mx-auto px-4 pt-10 pb-10 md:pt-14 md:pb-14">
    <div class="grid items-center gap-12 md:grid-cols-2">
      <!-- Left: Text -->
      <div>
        <Reveal delay={0}>
          <!-- NO tocamos -->
          <h1 class="text-4xl md:text-5xl font-bold">Raúl García Balongo</h1>
        </Reveal>

        <Reveal delay={120}>
          <!-- NO tocamos -->
          <h2 class="mt-2 text-xl md:text-2xl text-emerald-500 font-medium">
            {t(lang, "hero.subtitle")}
          </h2>
        </Reveal>

        <Reveal delay={240}>
          <!-- Texto más grande -->
          <p
            class="mt-6 max-w-2xl text-xl md:text-2xl leading-relaxed text-gray-600 dark:text-gray-300"
          >
            {t(lang, "hero.description")}
          </p>
        </Reveal>
      </div>

      <!-- Right: Avatar -->
      <Reveal delay={180} class="flex justify-center md:justify-end">
        <div class="relative group">
          <!-- Glow -->
          <div
            class="absolute inset-0 rounded-full
                 bg-linear-to-br from-emerald-500 via-teal-400 to-cyan-400
                 blur-2xl opacity-60
                 transition-opacity duration-500
                 group-hover:opacity-90"
            aria-hidden="true"
          >
          </div>

          <!-- Marco -->
          <div
            class="relative w-72 h-72 md:w-80 md:h-80 rounded-full
                 bg-linear-to-br from-emerald-400 via-teal-400 to-green-500
                 p-0.75"
          >
            <!-- Imagen -->
            <div
              class="w-full h-full rounded-full bg-gray-900 overflow-hidden
                   border border-white/10"
            >
              <img
                src="/assets/images/PerfilDibujo.png"
                alt="Raúl García Balongo"
                class="w-full h-full object-cover
                     transition-transform duration-500
                     group-hover:scale-105"
                loading="eager"
              />
            </div>
          </div>
        </div>
      </Reveal>
    </div>
  </section>

  <!-- HIGHLIGHTS -->
  <section class="max-w-7xl mx-auto px-4 pb-20 grid gap-6 md:grid-cols-2">
    <!-- Left card -->
    <Reveal
      as="div"
      delay={0}
      class="min-w-0 rounded-lg border border-gray-200 dark:border-gray-700 p-5 sm:p-6"
    >
      <h3 class="font-semibold text-xl text-center">
        {t(lang, "highlights.growth.title")}
      </h3>

      <p
        class="mt-3 text-base sm:text-lg leading-relaxed text-gray-600 dark:text-gray-300"
      >
        {t(lang, "highlights.growth.desc")}
      </p>
    </Reveal>

    <!-- Right card -->
    <Reveal
      as="div"
      delay={140}
      class="min-w-0 rounded-lg border border-gray-200 dark:border-gray-700 p-5 sm:p-6"
    >
      <h3 class="font-semibold text-xl text-center">
        {t(lang, "highlights.enjoy.title")}
      </h3>

      <p
        class="mt-3 text-base sm:text-lg leading-relaxed text-gray-600 dark:text-gray-300"
      >
        {t(lang, "highlights.enjoy.desc")}
      </p>
    </Reveal>

    <!-- Center card (Tech stack) -->
    <Reveal
      as="div"
      delay={280}
      class="min-w-0 rounded-lg border border-gray-200 dark:border-gray-700 p-5 sm:p-6 md:col-span-2"
    >
      <h3 class="font-semibold text-xl text-center mb-6">
        {t(lang, "highlights.stack.title")}
      </h3>

      <!-- Banda -->
      <div class="relative overflow-hidden max-w-full">
        <div class="tech-marquee">
          <div class="tech-marquee__track">
            {
              Array.from({ length: 2 }).map(() => (
                <div class="tech-marquee__group">
                  {techStack.map((tech) => (
                    <div class="tech-item">
                      <div
                        class={`tech-icon-box ${
                          tech.wordmark ? "tech-icon-box--wordmark" : ""
                        }`}
                      >
                        <img
                          src={tech.src}
                          alt={tech.name}
                          class={`tech-icon ${
                            tech.local ? "tech-icon--local" : ""
                          }`}
                          loading="lazy"
                        />
                      </div>
                      <span class="tech-label">{tech.name}</span>
                    </div>
                  ))}
                </div>
              ))
            }
          </div>
        </div>
      </div>
    </Reveal>
  </section>


  <!-- METRICS / HIGHLIGHTS -->
  <section class="max-w-7xl mx-auto px-4 pb-24">
    <Reveal as="header" class="mb-10 max-w-3xl mx-auto text-center" delay={0}>
      <h3
        class="mt-4 text-4xl md:text-5xl font-bold tracking-tight leading-snug
             bg-linear-to-r from-emerald-400 via-teal-400 to-green-500
             bg-clip-text text-transparent"
      >
        {t(lang, "metrics.title")}
      </h3>

      <p
        class="mt-5 text-lg md:text-xl leading-relaxed text-gray-600 dark:text-gray-300"
      >
        {t(lang, "metrics.subtitle")}
      </p>
    </Reveal>

    <!-- Bar -->
    <div class="flex justify-center">
      <Reveal delay={160} class="w-full max-w-5xl">
        <div
          class="group relative overflow-hidden rounded-2xl
               border border-emerald-500/25
               bg-linear-to-r from-emerald-700/30 via-teal-700/25 to-green-700/30
               dark:bg-white/5 backdrop-blur
               p-8 md:p-10
               shadow-lg shadow-emerald-500/15
               transition-all duration-500
               hover:-translate-y-1 hover:shadow-emerald-500/30"
        >
          <!-- Glow -->
          <div
            class="pointer-events-none absolute -top-24 -left-24 h-72 w-72 rounded-full
                 bg-emerald-500/25 blur-3xl opacity-80"
            aria-hidden="true"
          ></div>
          <div
            class="pointer-events-none absolute -bottom-28 -right-24 h-80 w-80 rounded-full
                 bg-teal-400/15 blur-3xl opacity-70"
            aria-hidden="true"
          ></div>

          <!-- Items -->
          <div
            class="relative grid grid-cols-2 md:grid-cols-4
                 items-stretch
                 gap-y-10 gap-x-6 text-center"
          >
            {
              [
                {
                  kind: "text",
                  value: t(lang, "metrics.junior.value"),
                  label: t(lang, "metrics.junior.label"),
                },
                {
                  kind: "count",
                  to: 20,
                  suffix: "+",
                  label: t(lang, "metrics.certs"),
                },
                {
                  kind: "count",
                  to: 25,
                  suffix: "+",
                  label: t(lang, "metrics.tech"),
                },
                {
                  kind: "count",
                  to: 3,
                  suffix: "",
                  label: t(lang, "metrics.projects"),
                },
              ].map((m, idx) => (
                <Reveal delay={220 + idx * 90}>
                  <div class="flex h-full flex-col items-center justify-center">
                    <div
                      class="text-4xl md:text-5xl font-extrabold tracking-tight text-white
                           drop-shadow-[0_8px_18px_rgba(16,185,129,0.25)] tabular-nums"
                    >
                      {m.kind === "count" ? (
                        <CountUp
                          client:load
                          to={m.to}
                          duration={2200}
                          suffix={m.suffix}
                        />
                      ) : (
                        m.value
                      )}
                    </div>

                    <div class="mt-3 text-sm md:text-base text-white/85 leading-snug max-w-[20ch]">
                      {m.label}
                    </div>
                  </div>
                </Reveal>
              ))
            }
          </div>
        </div>
      </Reveal>
    </div>
  </section>


  <!-- INTERESTS -->
  <section class="max-w-7xl mx-auto px-4 pb-24">
    <Reveal as="header" class="mb-12 max-w-3xl mx-auto text-center" delay={0}>
      <h3
        class="mt-4 text-4xl md:text-5xl font-bold tracking-tight leading-snug
             bg-linear-to-r from-emerald-400 via-teal-400 to-green-500
             bg-clip-text text-transparent"
      >
        {t(lang, "interests.title")}
      </h3>

      <p
        class="mt-5 text-lg md:text-xl leading-relaxed text-gray-600 dark:text-gray-300"
      >
        {t(lang, "interests.subtitle")}
      </p>
    </Reveal>

    <div class="grid gap-6 md:grid-cols-3">
      {
        [
          {
            title: t(lang, "interests.cards.data.title"),
            text: t(lang, "interests.cards.data.text"),
            icon: "chart",
          },
          {
            title: t(lang, "interests.cards.web.title"),
            text: t(lang, "interests.cards.web.text"),
            icon: "code",
          },
          {
            title: t(lang, "interests.cards.cloud.title"),
            text: t(lang, "interests.cards.cloud.text"),
            icon: "cloud",
          },
        ].map((card, idx) => (
          <Reveal delay={120 + idx * 120}>
            <div
              class="group relative overflow-hidden rounded-2xl
                   border border-gray-200/70 dark:border-white/10
                   bg-white/70 dark:bg-white/5 backdrop-blur p-7
                   shadow-sm transition-all duration-300
                   hover:-translate-y-1 hover:shadow-xl hover:shadow-emerald-500/10
                   hover:border-emerald-500/40"
            >
              <!-- Glow -->
              <div
                class="pointer-events-none absolute -top-20 -right-24 h-56 w-56 rounded-full
                     bg-emerald-500/20 blur-3xl opacity-0 transition-opacity duration-300
                     group-hover:opacity-100"
                aria-hidden="true"
              />

              <!-- Icon -->
              <div class="flex justify-center mb-4">
                <div
                  class="flex h-11 w-11 items-center justify-center rounded-xl
                       bg-emerald-500/10 text-emerald-500
                       transition group-hover:scale-110"
                >
                  {card.icon === "chart" && (
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                         viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                      <path stroke-linecap="round" stroke-linejoin="round"
                            d="M3 3v18h18M9 17V9m4 8v-5m4 5V7" />
                    </svg>
                  )}

                  {card.icon === "code" && (
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                         viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                      <path stroke-linecap="round" stroke-linejoin="round"
                            d="M16 18l6-6-6-6M8 6l-6 6 6 6" />
                    </svg>
                  )}

                  {card.icon === "cloud" && (
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                         viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                      <path stroke-linecap="round" stroke-linejoin="round"
                            d="M3 15a4 4 0 004 4h10a4 4 0 000-8 5 5 0 00-9-3A4 4 0 003 15z" />
                    </svg>
                  )}
                </div>
              </div>

              <!-- Title -->
              <h4
                class="text-center text-xl font-semibold
                     text-gray-900 dark:text-white
                     tracking-tight"
              >
                {card.title}
              </h4>

              <!-- Text -->
              <p class="mt-3 text-center text-lg leading-relaxed text-gray-600 dark:text-gray-300">
                {card.text}
              </p>
            </div>
          </Reveal>
        ))
      }
    </div>
  </section>

  <!-- KEY TECHNOLOGIES -->
  <section class="max-w-7xl mx-auto px-4 pb-24">
    <!-- Title + subtitle -->
    <Reveal as="header" class="mb-12 max-w-3xl mx-auto text-center" delay={0}>
      <h3
        class="mt-4 text-4xl md:text-5xl font-bold tracking-tight leading-tight
             bg-linear-to-r from-emerald-400 via-teal-400 to-green-500
             bg-clip-text text-transparent"
      >
        {t(lang, "keyTech.title")}
      </h3>

      <p
        class="mt-5 text-lg md:text-xl leading-relaxed text-gray-600 dark:text-gray-300"
      >
        {t(lang, "keyTech.subtitle")}
      </p>
    </Reveal>

    <div class="grid gap-6 md:grid-cols-2">
      <!-- Card: Data -->
      <Reveal delay={120}>
        <div
          class="group relative overflow-hidden rounded-2xl
               border border-gray-200/70 dark:border-white/10
               bg-white/70 dark:bg-white/5 backdrop-blur
               p-7 shadow-sm transition-all duration-300
               hover:-translate-y-1 hover:shadow-xl hover:shadow-emerald-500/10
               hover:border-emerald-500/40"
        >
          <!-- subtle top accent -->
          <div
            class="pointer-events-none absolute inset-x-0 top-0 h-0.75
                 bg-linear-to-r from-emerald-400/50 via-teal-400/40 to-green-400/50"
            aria-hidden="true"
          ></div>

          <div
            class="pointer-events-none absolute -top-20 -right-24 h-56 w-56 rounded-full
                 bg-emerald-500/20 blur-3xl opacity-0 transition-opacity duration-300
                 group-hover:opacity-100"
            aria-hidden="true"
          ></div>

          <!-- header row -->
          <div class="flex items-start justify-between gap-4">
            <div class="min-w-0">
              <div class="flex items-center gap-2">
                <div
                  class="flex h-9 w-9 items-center justify-center rounded-xl
                       bg-emerald-500/10 text-emerald-500 ring-1 ring-emerald-500/20"
                  aria-hidden="true"
                >
                  <!-- chart icon -->
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                       viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                    <path stroke-linecap="round" stroke-linejoin="round"
                          d="M3 3v18h18M9 17V9m4 8v-5m4 5V7" />
                  </svg>
                </div>

                <h4 class="text-xl font-semibold text-gray-900 dark:text-white">
                  {t(lang, "keyTech.data.title")}
                </h4>
              </div>

              <p class="mt-2 text-lg leading-relaxed text-gray-600 dark:text-gray-300">
                {t(lang, "keyTech.data.description")}
              </p>
            </div>
          </div>

          <!-- Core (featured + emphasis) -->
          <div class="mt-8">
            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-x-10 gap-y-10 items-start">
              {
                dataIcons.slice(0, 5).map((i, idx) => (
                  <Reveal delay={220 + idx * 60}>
                    <div class="tech-item tech-item--grid">
                      <div
                        class={`tech-icon-box tech-icon-box--grid ${
                          i.wordmark ? "tech-icon-box--grid-wordmark" : ""
                        }`}
                      >
                        <img
                          src={i.src}
                          alt={i.name}
                          loading="lazy"
                          class={`tech-icon tech-icon--grid ${i.local ? "tech-icon--grid-local" : ""}`}
                        />
                      </div>
                      <span class="tech-label font-semibold">{i.name}</span>
                    </div>
                  </Reveal>
                ))
              }
            </div>
          </div>

          <!-- Divider -->
          {dataIcons.length > 5 && (
            <div class="mt-10">
              <div class="h-px w-full bg-gray-200/70 dark:bg-white/10"></div>
              <div class="mt-4 text-sm font-semibold tracking-wide text-gray-500 dark:text-gray-400 text-center">
                {t(lang, "keyTech.additional")}
              </div>
            </div>
          )}

          <!-- Support -->
          {dataIcons.length > 5 && (
            <div class="mt-6 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-x-10 gap-y-10 items-start">
              {
                dataIcons.slice(5).map((i, idx) => (
                  <Reveal delay={560 + idx * 45}>
                    <div class="tech-item tech-item--grid opacity-90 group-hover:opacity-100 transition">
                      <div
                        class={`tech-icon-box tech-icon-box--grid ${
                          i.wordmark ? "tech-icon-box--grid-wordmark" : ""
                        } opacity-90`}
                      >
                        <img
                          src={i.src}
                          alt={i.name}
                          loading="lazy"
                          class={`tech-icon tech-icon--grid ${i.local ? "tech-icon--grid-local" : ""}`}
                        />
                      </div>
                      <span class="tech-label opacity-90">{i.name}</span>
                    </div>
                  </Reveal>
                ))
              }
            </div>
          )}
        </div>
      </Reveal>

      <!-- Card: Web / Tooling -->
      <Reveal delay={220}>
        <div
          class="group relative overflow-hidden rounded-2xl
           border border-gray-200/70 dark:border-white/10
           bg-white/70 dark:bg-white/5 backdrop-blur
           p-7 shadow-sm transition-all duration-300
           hover:-translate-y-1 hover:shadow-xl hover:shadow-emerald-500/10
           hover:border-emerald-500/40"
        >
          <!-- subtle top accent -->
          <div
            class="pointer-events-none absolute inset-x-0 top-0 h-0.75
             bg-linear-to-r from-emerald-400/40 via-teal-400/35 to-green-400/40"
            aria-hidden="true"
          ></div>

          <div
            class="pointer-events-none absolute -top-20 -right-24 h-56 w-56 rounded-full
             bg-emerald-500/20 blur-3xl opacity-0 transition-opacity duration-300
             group-hover:opacity-100"
            aria-hidden="true"
          ></div>

          <!-- header row -->
          <div class="flex items-start justify-between gap-4">
            <div class="min-w-0">
              <div class="flex items-center gap-2">
                <div
                  class="flex h-9 w-9 items-center justify-center rounded-xl
                   bg-emerald-500/10 text-emerald-500 ring-1 ring-emerald-500/20"
                  aria-hidden="true"
                >
                  <!-- code icon -->
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                       viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                    <path stroke-linecap="round" stroke-linejoin="round"
                          d="M16 18l6-6-6-6M8 6l-6 6 6 6" />
                  </svg>
                </div>

                <h4 class="text-xl font-semibold text-gray-900 dark:text-white">
                  {t(lang, "keyTech.dev.title")}
                </h4>
              </div>

              <p class="mt-2 text-lg leading-relaxed text-gray-600 dark:text-gray-300">
                {t(lang, "keyTech.dev.description")}
              </p>
            </div>
          </div>

          <!-- Core -->
          <div class="mt-8">
            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-x-10 gap-y-10 items-start">
              {
                devIcons.slice(0, 5).map((i, idx) => (
                  <Reveal delay={320 + idx * 60}>
                    <div class="tech-item tech-item--grid">
                      <div
                        class={`tech-icon-box tech-icon-box--grid ${
                          i.wordmark ? "tech-icon-box--grid-wordmark" : ""
                        }`}
                      >
                        <img
                          src={i.src}
                          alt={i.name}
                          loading="lazy"
                          class={`tech-icon tech-icon--grid ${i.local ? "tech-icon--grid-local" : ""}`}
                        />
                      </div>
                      <span class="tech-label font-semibold">{i.name}</span>
                    </div>
                  </Reveal>
                ))
              }
            </div>
          </div>

          <!-- Divider -->
          {devIcons.length > 5 && (
            <div class="mt-10">
              <div class="h-px w-full bg-gray-200/70 dark:bg-white/10"></div>
              <div class="mt-4 text-sm font-semibold tracking-wide text-gray-500 dark:text-gray-400 text-center">
                {t(lang, "keyTech.additional")}
              </div>
            </div>
          )}

          <!-- Support -->
          {devIcons.length > 5 && (
            <div class="mt-6 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-x-10 gap-y-10 items-start">
              {
                devIcons.slice(5).map((i, idx) => (
                  <Reveal delay={660 + idx * 45}>
                    <div class="tech-item tech-item--grid opacity-90 group-hover:opacity-100 transition">
                      <div
                        class={`tech-icon-box tech-icon-box--grid ${
                          i.wordmark ? "tech-icon-box--grid-wordmark" : ""
                        } opacity-90`}
                      >
                        <img
                          src={i.src}
                          alt={i.name}
                          loading="lazy"
                          class={`tech-icon tech-icon--grid ${i.local ? "tech-icon--grid-local" : ""}`}
                        />
                      </div>
                      <span class="tech-label opacity-90">{i.name}</span>
                    </div>
                  </Reveal>
                ))
              }
            </div>
          )}
        </div>
      </Reveal>

    </div>

  </section>

  <!-- REVIEWS -->
  <section class="max-w-7xl mx-auto px-4 pb-24">
    <!-- Title + subtitle -->
    <Reveal as="header" class="mb-12 max-w-3xl mx-auto text-center" delay={0}>
      <h3
        class="mt-4 text-4xl md:text-5xl font-bold tracking-tight leading-snug
             bg-linear-to-r from-emerald-400 via-teal-400 to-green-500
             bg-clip-text text-transparent"
      >
        {t(lang, "reviews.title")}
      </h3>

      <p
        class="mt-5 text-lg md:text-xl leading-relaxed text-gray-600 dark:text-gray-300"
      >
        {t(lang, "reviews.subtitle")}
      </p>
    </Reveal>

    <div class="grid gap-6 md:grid-cols-2">
      <!-- UMA / TFG -->
      <Reveal delay={120}>
        <blockquote
          class="group relative overflow-hidden rounded-2xl border border-gray-200/70 dark:border-white/10
               bg-white/70 dark:bg-white/5 backdrop-blur p-7
               shadow-sm transition-all duration-300
               hover:-translate-y-1 hover:shadow-xl hover:shadow-emerald-500/10
               hover:border-emerald-500/40"
        >
          <!-- Decorative glow -->
          <div
            class="pointer-events-none absolute -top-20 -right-24 h-56 w-56 rounded-full
                 bg-emerald-500/20 blur-3xl opacity-0 transition-opacity duration-300
                 group-hover:opacity-100"
            aria-hidden="true"
          ></div>

          <!-- Quote mark -->
          <div
            class="mb-4 inline-flex h-10 w-10 items-center justify-center rounded-xl
                 bg-emerald-500/10 text-emerald-500"
            aria-hidden="true"
          >
            <span class="text-2xl leading-none">“</span>
          </div>

          <p class="text-lg leading-relaxed text-gray-700 dark:text-gray-200">
            {t(lang, "reviews.uma.quote")}
          </p>

          <footer class="mt-6 flex items-center justify-between gap-4">
            <div class="min-w-0">
              <div class="font-semibold text-lg text-gray-900 dark:text-white">
                Miguel Ángel Molina Cabello
              </div>
              <div class="text-sm text-gray-500 dark:text-gray-400">
                {t(lang, "reviews.uma.role")}
              </div>
            </div>

            <!-- LinkedIn -->
            <a
              href="https://www.linkedin.com/posts/ra%C3%BAl-garc%C3%ADa-balongo-865948350_trabajo-de-fin-de-grado-activity-7382005621501546497-NKx8"
              target="_blank"
              rel="noreferrer"
              aria-label={t(lang, "reviews.viewLinkedIn")}
              title={t(lang, "reviews.viewLinkedIn")}
              class="inline-flex items-center justify-center rounded-full p-2.5
                   bg-emerald-500/10 text-emerald-600 ring-1 ring-emerald-500/25
                   hover:bg-emerald-500/15 hover:ring-emerald-500/40 transition"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
                class="h-5 w-5"
                aria-hidden="true"
              >
                <path
                  d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037
                -1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046
                c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.266 2.37 4.266 5.455v6.286z
                M5.337 7.433c-1.144 0-2.063-.926-2.063-2.065
                0-1.138.92-2.063 2.063-2.063
                1.14 0 2.064.925 2.064 2.063
                0 1.139-.925 2.065-2.064 2.065z
                M7.119 20.452H3.555V9h3.564v11.452z
                M22.225 0H1.771C.792 0 0 .774 0 1.729v20.542
                C0 23.227.792 24 1.771 24h20.451
                C23.2 24 24 23.227 24 22.271V1.729
                C24 .774 23.2 0 22.222 0z"
                ></path>
              </svg>
            </a>
          </footer>
        </blockquote>
      </Reveal>

      <!-- DEKRA -->
      <Reveal delay={240}>
        <blockquote
          class="group relative overflow-hidden rounded-2xl border border-gray-200/70 dark:border-white/10
               bg-white/70 dark:bg-white/5 backdrop-blur p-7
               shadow-sm transition-all duration-300
               hover:-translate-y-1 hover:shadow-xl hover:shadow-emerald-500/10
               hover:border-emerald-500/40"
        >
          <div
            class="pointer-events-none absolute -top-20 -right-24 h-56 w-56 rounded-full
                 bg-emerald-500/20 blur-3xl opacity-0 transition-opacity duration-300
                 group-hover:opacity-100"
            aria-hidden="true"
          ></div>

          <div
            class="mb-4 inline-flex h-10 w-10 items-center justify-center rounded-xl
                 bg-emerald-500/10 text-emerald-500"
            aria-hidden="true"
          >
            <span class="text-2xl leading-none">“</span>
          </div>

          <p class="text-lg leading-relaxed text-gray-700 dark:text-gray-200">
            {t(lang, "reviews.dekra.quote")}
          </p>

          <footer class="mt-6 flex items-center justify-between gap-4">
            <div class="min-w-0">
              <div class="font-semibold text-lg text-gray-900 dark:text-white">
                Antonio Álvarez López
              </div>
              <div class="text-sm text-gray-500 dark:text-gray-400">
                {t(lang, "reviews.dekra.role")}
              </div>
            </div>

            <a
              href="https://www.linkedin.com/posts/ra%C3%BAl-garc%C3%ADa-balongo-865948350_praercticas-informaertica-cybersecurity-activity-7333574364178604036-1S3m"
              target="_blank"
              rel="noreferrer"
              aria-label={t(lang, "reviews.viewLinkedIn")}
              title={t(lang, "reviews.viewLinkedIn")}
              class="inline-flex items-center justify-center rounded-full p-2.5
                   bg-emerald-500/10 text-emerald-600 ring-1 ring-emerald-500/25
                   hover:bg-emerald-500/15 hover:ring-emerald-500/40 transition"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
                class="h-5 w-5"
                aria-hidden="true"
              >
                <path
                  d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037
                -1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046
                c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.266 2.37 4.266 5.455v6.286z
                M5.337 7.433c-1.144 0-2.063-.926-2.063-2.065
                0-1.138.92-2.063 2.063-2.063
                1.14 0 2.064.925 2.064 2.063
                0 1.139-.925 2.065-2.064 2.065z
                M7.119 20.452H3.555V9h3.564v11.452z
                M22.225 0H1.771C.792 0 0 .774 0 1.729v20.542
                C0 23.227.792 24 1.771 24h20.451
                C23.2 24 24 23.227 24 22.271V1.729
                C24 .774 23.2 0 22.222 0z"
                ></path>
              </svg>
            </a>
          </footer>
        </blockquote>
      </Reveal>
    </div>
  </section>


  <!-- DOWNLOAD CV -->
  <section class="max-w-7xl mx-auto px-4 pb-24">
    <!-- Title + subtitle -->
    <Reveal as="header" class="mb-12 max-w-3xl mx-auto text-center" delay={0}>
      <h3
        class="mt-4 text-4xl md:text-5xl font-bold tracking-tight leading-snug
             bg-linear-to-r from-emerald-400 via-teal-400 to-green-500
             bg-clip-text text-transparent"
      >
        {t(lang, "cv.title")}
      </h3>

      <p
        class="mt-5 text-lg md:text-xl leading-relaxed text-gray-600 dark:text-gray-300"
      >
        {t(lang, "cv.subtitle")}
      </p>
    </Reveal>

    <!-- CTA Card -->
    <div class="flex justify-center">
      <Reveal delay={180} class="w-full max-w-3xl">
        <div
          class="group relative overflow-hidden rounded-2xl
               border border-emerald-500/30
               bg-white/70 dark:bg-white/5 backdrop-blur p-8
               shadow-lg shadow-emerald-500/20
               transition-all duration-500
               hover:-translate-y-2 hover:shadow-emerald-500/40"
        >
          <!-- Glow -->
          <div
            class="pointer-events-none absolute -top-24 -right-24 h-72 w-72 rounded-full
                 bg-emerald-500/30 blur-3xl opacity-80"
            aria-hidden="true"
          ></div>

          <div
            class="relative flex flex-col gap-6 md:flex-row md:items-center md:justify-between"
          >
            <div class="min-w-0">
              <h4 class="text-2xl font-semibold text-gray-900 dark:text-white">
                {t(lang, "cv.cardTitle")}
              </h4>

              <p
                class="mt-2 text-lg leading-relaxed text-gray-600 dark:text-gray-300"
              >
                {t(lang, "cv.cardText")}
              </p>
            </div>

            <!-- Download button -->
            <a
              href={lang === "es"
                ? "/assets/genericCV/Mi_CV_en_español.pdf"
                : "/assets/genericCV/Mi_CV_en_inglés.pdf"}
              download
              class="relative inline-flex items-center justify-center
                     rounded-full
                     px-8 py-3
                     text-base font-semibold
                     whitespace-nowrap
                     bg-emerald-600 text-white
                     shadow-lg shadow-emerald-600/40
                     transition-all duration-300
                     hover:bg-emerald-700 hover:scale-105
                     focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-offset-2
                     animate-[pulse_2.8s_ease-in-out_infinite]"
            >
              {t(lang, "cv.download")}
            </a>

          </div>
        </div>
      </Reveal>
    </div>
  </section>
</Layout>
